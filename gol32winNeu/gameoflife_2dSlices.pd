#N canvas 1232 231 551 307 10;
#N canvas 1091 222 554 636 \$0-gameofLife 0;
#X obj 10 10 cnv 15 510 270 empty empty empty 20 12 0 14 -257985 -66577
0;
#X obj 20 20 cnv 15 490 250 empty empty Game_of_Life_3d 110 50 0 30
-4032 -257985 0;
#X obj 39 113 cnv 15 450 60 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 48 117 bng 15 250 50 0 \$0-Iterate empty Iterate 17 7 0 10 -257985
-1 -1;
#X obj 188 118 nbx 5 14 1 1000 0 1 \$0-Interval empty Interval 56 7
0 10 -257985 -1 -1 1 256;
#X obj 112 117 tgl 15 0 \$0-Sequence empty Sequence 17 7 0 10 -257985
-1 -1 1 1;
#X msg 353 343 interval \$1;
#X obj 353 324 nbx 5 14 -1e+037 1e+037 0 0 empty \$0-Interval Interval
0 -8 0 10 -257985 -1 -1 1 256;
#X msg 353 471 conway;
#X msg 353 407 sequence \$1;
#X obj 353 451 bng 15 250 50 0 empty \$0-Iterate Iterate 17 7 0 10
-257985 -1 -1;
#X obj 353 387 tgl 15 0 empty \$0-Sequence Sequence 17 7 0 10 -257985
-1 -1 1 1;
#X obj 236 237 bng 15 250 50 0 empty empty Reset 17 7 0 10 -257985
-1 -1;
#X obj 59 238 nbx 5 14 1 1000 0 1 empty \$0-volWidthPreset volWidth
0 -8 0 10 -257985 -1 -1 25 256;
#X obj 118 238 nbx 5 14 1 1000 0 1 empty \$0-volHeightPreset volHeight
0 -8 0 10 -257985 -1 -1 25 256;
#X obj 177 238 nbx 5 14 1 1000 0 1 empty \$0-volDepthPreset volDepth
0 -8 0 10 -257985 -1 -1 50 256;
#X msg 236 298 reset 1;
#X obj 8 352 pack f f f f;
#X obj 251 200 hradio 15 1 1 16 \$0-Pattern empty Pattern 0 -8 0 10
-257985 -1 -1 1;
#X obj 353 517 ofelia d -k \$0-gameOfLife3d;
#A __set if type(window) ~= "userdata" then \; window = ofWindow()
\; end \; \; local a = ofelia \; local canvas = ofCanvas(this) \; local
clock = ofClock(this \, "setup") \; local imageDir = canvas:getDir()
.. "/images/Image" \; local shaderDir = canvas:getDir() .. "/shader/"
\; a.texture3d = ofVolumetrics() \; a.gameOfLifeShader = ofShader()
\; a.gameOfLifeFbo = ofFbo() \; a.gameOfLifePixels = ofPixels() \;
a.shaderSlice3d = ofShader() \; local rasterShader = ofShader() \;
local rasterFbo = ofFbo() \; a.mouseFbo = ofFbo() \; a.mousePixels
= ofPixels() \; local mouseTexture = ofTexture() \; a.easyCam = ofEasyCam()
\; \; function a.new() \; ofWindow.addListener("setup" \, this) \;
ofWindow.addListener("update" \, this) \; ofWindow.addListener("draw"
\, this) \; ofWindow.addListener("mousePressed" \, this) \; ofWindow.addListener("keyPressed"
\, this) \; ofWindow.addListener("exit" \, this) \; window:setPosition(30
\, 100) \; window:setSize(1024 \, 1024) \; if ofWindow.exists then
\; clock:delay(0) \; else \; window:create() \; end \; end \; \; function
a.free() \; window:destroy() \; ofWindow.removeListener("setup" \,
this) \; ofWindow.removeListener("update" \, this) \; ofWindow.removeListener("draw"
\, this) \; ofWindow.removeListener("mousePressed" \, this) \; ofWindow.removeListener("keyPressed"
\, this) \; ofWindow.removeListener("exit" \, this) \; end \; \; function
a.setup() \; ofSetWindowTitle("Game of Life 3d") \; ofBackground(0)
\; a.volWidth \, a.volHeight \, a.volDepth = 0 \, 0 \, 0 \; a.gameOfLifeShader:load(shaderDir
.. "GameOfLife3dSlices") \; rasterShader:load(shaderDir .. "Raster")
\; a.shaderSlice3d:load(shaderDir .. "Slice3d") \; a.mouseFbo:beginFbo()
\; ofClear(0) \; ofDrawRectangle(0 \, 0 \, a.volWidth \, a.volHeight)
\; a.mouseFbo:endFbo() \; a.editMode = 1 \; end \; \; function a.update()
\; if a.updateVolume == 1 then \; a.sequenceCounter = -1 \; a.depthCounter
= 0 \; a.texture3d = nil \; a.texture3d = ofVolumetrics() \; a.texture3d:setup(a.volWidth
\, a.volHeight \, a.volDepth \, ofVec3f(1 \, 1 \, 1) \, false) \; a.texture3d:setRenderSettings(1.0
\, 5 \, 1 \, 0.1) \; a.gameOfLifeFbo:allocate(a.volWidth \, a.volHeight)
\; rasterFbo:allocate(ofGetWidth() \, ofGetHeight()) \; a.mouseFbo:allocate(a.volWidth
\, a.volHeight) \; rasterShader:beginShader() \; rasterShader:setUniformTexture("Tex0"
\, rasterFbo:getTexture() \, 0) \; rasterShader:setUniform2f("resolution"
\, ofGetWidth() \, ofGetHeight()) \; rasterShader:setUniform1f("gridNumX"
\, a.volWidth) \; rasterShader:setUniform1f("gridNumY" \, a.volHeight)
\; rasterFbo:beginFbo() \; ofClear(0) \; ofDrawRectangle(0 \, 0 \,
ofGetWidth() \, ofGetHeight()) \; rasterFbo:endFbo() \; rasterShader:endShader()
\; a.updateVolume = 0 \; end \; if a.sequence == 1 then \; a.sequenceCounter
= (a.sequenceCounter + 1) % a.interval \; if a.sequenceCounter == 0
then \; a.conway() \; end \; else \; counter = - 1 \; end \; if a.reset
== 1 then \; a.sequenceCounter = -1 \; a.depthCounter = 0 \; a.texture3d
= nil \; a.texture3d = ofVolumetrics() \; a.texture3d:setup(a.volWidth
\, a.volHeight \, a.volDepth \, ofVec3f(1 \, 1 \, 1) \, false) \; a.texture3d:setRenderSettings(1.0
\, 5 \, 1 \, 0.1) \; a.texture3d:loadVolumeData(a.mousePixels:getData()
\, a.volWidth \, a.volHeight \, 1 \, 0 \, 0 \, 0) \; a.reset = 0 \;
end \; if a.presetState == 1 then \; a.preset() \; a.presetState =
0 \; end \; end \; \; function a.draw() \; a.easyCam:beginCamera()
\; a.texture3d:drawVolume(0 \, 0 \, 1 \, ofGetHeight() / 1.5 \, (a.depthCounter
+ 1)%a.volDepth) \; a.easyCam:endCamera() \; if a.editMode == 1 then
\; a.mouseFbo:getTexture():setTextureMinMagFilter(GL_NEAREST \, GL_NEAREST)
\; a.mouseFbo:draw(0 \, 0 \, ofGetWidth() \, ofGetHeight()) \; rasterFbo:draw(0
\, 0 \, ofGetWidth() \, ofGetHeight()) \; end \; end \; \; function
a.mousePressed(e) \; if a.editMode == 1 then \; a.mouseFbo:getTexture():readToPixels(a.mousePixels)
\; x = (e.x + (ofGetWidth() / a.volWidth)) // (ofGetWidth() / a.volWidth)
\; y = (e.y + (ofGetHeight() / a.volHeight)) // (ofGetHeight() / a.volHeight)
\; if a.mousePixels:getColor(x - 1 \, y - 1).r == 255 then \; a.mousePixels:setColor(x
- 1 \, y - 1 \, ofColor(0 \, 0 \, 0 \, 0)) \; else \; a.mousePixels:setColor(x
- 1 \, y - 1 \, ofColor(255)) \; end \; a.texture3d:loadVolumeData(a.mousePixels:getData()
\, a.volWidth \, a.volHeight \, 1 \, 0 \, 0 \, 0) \; mouseTexture:allocate(a.mousePixels)
\; a.mouseFbo:beginFbo() \; ofDisableAlphaBlending() \; mouseTexture:draw(0
\, 0) \; a.mouseFbo:endFbo() \; end \; end \; \; function a.keyPressed(e)
\; if e.key == string.byte("e") then \; if a.editMode == 1 then \;
a.editMode = 0 \; else \; a.editMode = 1 \; end \; end \; if e.key
== string.byte("f") then \; ofToggleFullscreen() \; end \; end \; \;
function a.exit() \; a.texture3d:destroy() \; a.gameOfLifeShader:unload()
\; a.gameOfLifeFbo:clear() \; a.gameOfLifePixels:clear() \; rasterShader:unload()
\; rasterFbo:clear() \; a.mouseFbo:clear() \; a.mousePixels:clear()
\; mouseTexture:clear() \; end \; \;;
#X obj 353 364 s \$0-gameOfLife3d;
#X obj 353 428 s \$0-gameOfLife3d;
#X obj 353 494 s \$0-gameOfLife3d;
#X obj 8 398 s \$0-gameOfLife3d;
#X obj 236 320 s \$0-gameOfLife3d;
#X obj 353 540 ofelia d -k \$0-shader;
#A __set local a = require("\$0-gameOfLife3d") \; \; function a.conway()
\; a.depthCounter = (a.depthCounter + 1) % a.volDepth \; print("c"
\, a.depthCounter) \; a.shaderSlice3d:beginShader() \; a.shaderSlice3d:setUniform3f("resolution"
\, a.volWidth \, a.volHeight \, a.volDepth) \; a.shaderSlice3d:setUniform1i("zCount"
\, a.depthCounter-1) \; a.gameOfLifeFbo:beginFbo() \; ofClear(0) \;
ofDrawRectangle(0 \, 0 \, a.volWidth \, a.volHeight) \; a.gameOfLifeFbo:endFbo()
\; a.gameOfLifeFbo:readToPixels(a.gameOfLifePixels) \; a.texture3d:loadVolumeData(a.gameOfLifePixels:getData()
\, a.volWidth \, a.volHeight \, 1 \, 0 \, 0 \, a.depthCounter) \; a.shaderSlice3d:endShader()
\; a.gameOfLifeShader:beginShader() \; a.gameOfLifeShader:setUniformTexture("Tex0"
\, a.texture3d:getFboReference():getTexture() \, 0) \; a.gameOfLifeShader:setUniform3f("resolution"
\, a.volWidth \, a.volHeight \, a.volDepth) \; a.gameOfLifeShader:setUniform1f("lCell_0"
\, ofelia.lCell_0) \; a.gameOfLifeShader:setUniform1f("lCell_1" \,
ofelia.lCell_1) \; a.gameOfLifeShader:setUniform1f("lCell_2" \, ofelia.lCell_2)
\; a.gameOfLifeShader:setUniform1f("lCell_3" \, ofelia.lCell_3) \;
a.gameOfLifeShader:setUniform1f("lCell_4" \, ofelia.lCell_4) \; a.gameOfLifeShader:setUniform1f("lCell_5"
\, ofelia.lCell_5) \; a.gameOfLifeShader:setUniform1f("lCell_6" \,
ofelia.lCell_6) \; a.gameOfLifeShader:setUniform1f("lCell_7" \, ofelia.lCell_7)
\; a.gameOfLifeShader:setUniform1f("lCell_8" \, ofelia.lCell_8) \;
a.gameOfLifeShader:setUniform1f("lCell_9" \, ofelia.lCell_9) \; a.gameOfLifeShader:setUniform1f("lCell_10"
\, ofelia.lCell_10) \; a.gameOfLifeShader:setUniform1f("lCell_11" \,
ofelia.lCell_11) \; a.gameOfLifeShader:setUniform1f("lCell_12" \, ofelia.lCell_12)
\; a.gameOfLifeShader:setUniform1f("lCell_13" \, ofelia.lCell_13) \;
a.gameOfLifeShader:setUniform1f("lCell_14" \, ofelia.lCell_14) \; a.gameOfLifeShader:setUniform1f("lCell_15"
\, ofelia.lCell_15) \; a.gameOfLifeShader:setUniform1f("lCell_16" \,
ofelia.lCell_16) \; a.gameOfLifeShader:setUniform1f("lCell_17" \, ofelia.lCell_17)
\; a.gameOfLifeShader:setUniform1f("lCell_18" \, ofelia.lCell_18) \;
a.gameOfLifeShader:setUniform1f("lCell_19" \, ofelia.lCell_19) \; a.gameOfLifeShader:setUniform1f("lCell_20"
\, ofelia.lCell_20) \; a.gameOfLifeShader:setUniform1f("lCell_21" \,
ofelia.lCell_21) \; a.gameOfLifeShader:setUniform1f("lCell_22" \, ofelia.lCell_22)
\; a.gameOfLifeShader:setUniform1f("lCell_23" \, ofelia.lCell_23) \;
a.gameOfLifeShader:setUniform1f("lCell_24" \, ofelia.lCell_24) \; a.gameOfLifeShader:setUniform1f("lCell_25"
\, ofelia.lCell_25) \; a.gameOfLifeShader:setUniform1f("lCell_26" \,
ofelia.lCell_26) \; a.gameOfLifeShader:setUniform1f("dCell_0" \, ofelia.dCell_0)
\; a.gameOfLifeShader:setUniform1f("dCell_1" \, ofelia.dCell_1) \;
a.gameOfLifeShader:setUniform1f("dCell_2" \, ofelia.dCell_2) \; a.gameOfLifeShader:setUniform1f("dCell_3"
\, ofelia.dCell_3) \; a.gameOfLifeShader:setUniform1f("dCell_4" \,
ofelia.dCell_4) \; a.gameOfLifeShader:setUniform1f("dCell_5" \, ofelia.dCell_5)
\; a.gameOfLifeShader:setUniform1f("dCell_6" \, ofelia.dCell_6) \;
a.gameOfLifeShader:setUniform1f("dCell_7" \, ofelia.dCell_7) \; a.gameOfLifeShader:setUniform1f("dCell_8"
\, ofelia.dCell_8) \; a.gameOfLifeShader:setUniform1f("dCell_9" \,
ofelia.dCell_9) \; a.gameOfLifeShader:setUniform1f("dCell_10" \, ofelia.dCell_10)
\; a.gameOfLifeShader:setUniform1f("dCell_11" \, ofelia.dCell_11) \;
a.gameOfLifeShader:setUniform1f("dCell_12" \, ofelia.dCell_12) \; a.gameOfLifeShader:setUniform1f("dCell_13"
\, ofelia.dCell_13) \; a.gameOfLifeShader:setUniform1f("dCell_14" \,
ofelia.dCell_14) \; a.gameOfLifeShader:setUniform1f("dCell_15" \, ofelia.dCell_15)
\; a.gameOfLifeShader:setUniform1f("dCell_16" \, ofelia.dCell_16) \;
a.gameOfLifeShader:setUniform1f("dCell_17" \, ofelia.dCell_17) \; a.gameOfLifeShader:setUniform1f("dCell_18"
\, ofelia.dCell_18) \; a.gameOfLifeShader:setUniform1f("dCell_19" \,
ofelia.dCell_19) \; a.gameOfLifeShader:setUniform1f("dCell_20" \, ofelia.dCell_20)
\; a.gameOfLifeShader:setUniform1f("dCell_21" \, ofelia.dCell_21) \;
a.gameOfLifeShader:setUniform1f("dCell_22" \, ofelia.dCell_22) \; a.gameOfLifeShader:setUniform1f("dCell_23"
\, ofelia.dCell_23) \; a.gameOfLifeShader:setUniform1f("dCell_24" \,
ofelia.dCell_24) \; a.gameOfLifeShader:setUniform1f("dCell_25" \, ofelia.dCell_25)
\; a.gameOfLifeShader:setUniform1f("dCell_26" \, ofelia.dCell_26) \;
a.gameOfLifeShader:setUniform1i("zCount" \, a.depthCounter) \; a.gameOfLifeFbo:beginFbo()
\; ofClear(0) \; ofDrawRectangle(0 \, 0 \, a.volWidth \, a.volHeight)
\; a.gameOfLifeFbo:endFbo() \; a.gameOfLifeFbo:readToPixels(a.gameOfLifePixels)
\; a.gameOfLifeShader:endShader() \; a.texture3d:loadVolumeData(a.gameOfLifePixels:getData()
\, a.volWidth \, a.volHeight \, 1 \, 0 \, 0 \, a.depthCounter) \; a.gameOfLifePixels:clear()
\; end \; \;;
#N canvas 1011 608 719 322 pattern 0;
#X obj 259 75 bng 15 250 50 0 empty \$0-Copy_Pattern Copy_Pattern 17
7 0 10 -257985 -1 -1;
#X obj 260 136 bng 15 250 50 0 empty \$0-Paste_Pattern Paste_Pattern
17 7 0 10 -257985 -1 -1;
#X obj 44 174 bng 15 250 50 0 empty \$0-Save_Pattern Save_Pattern 17
7 0 10 -257985 -1 -1;
#X obj 79 32 hradio 15 1 0 16 empty \$0-Pattern Pattern 0 -8 0 10 -257985
-1 -1 1;
#X obj 44 238 text define -k \$0-preset;
#A set 10 10 10 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 43 44 52 55
56 63 64 \; 25 25 50 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 285 310
335 \; 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 50 50
200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 50 50 200 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 100 100 1 0 1 1 1 1 1 1 0 1 1 1 0
1 0 0 0 1 1 0 1 1 0 1 0 1 0 1 0 1 1 0 1 1 0 1 0 1 1 1 1 1 1 0 1 0 1
1 1 1 0 1 0 1 0 4745 4843 4844 4845 4846 4847 4945 \; 200 200 1 0 0
1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 19094 19294 19494 \; 200 200 10
0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 20093 20292 20293 20294 20493
\; 10 10 10 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 44 45 54 55 \;
200 200 200 0 0 1 1 0 0 0 1 1 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0 0
0 1 1 0 1 1 0 1 0 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 18687 18887 19086
19087 19088 19287 19487 \; 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 \; 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \;
50 50 200 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1119 1120 1168 1171
1172 1219 1220 \; 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
\; 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 200 200 200
0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 22088 \;;
#X obj 106 73 text get \$0-preset;
#X obj 79 52 t f f;
#X obj 44 217 text set \$0-preset;
#X msg 260 156 0;
#X obj 493 137 text delete \$0-preset;
#X obj 466 179 until;
#X msg 466 158 16;
#X obj 466 95 t b b;
#X obj 466 75 bng 15 250 50 0 empty empty delete 17 7 0 10 -258113
-1 -1;
#X msg 493 116 -1;
#X obj 260 240 ofelia d -k \$0-getPresetCopy;
#A __set local a = require("\$0-gameOfLife3d") \; \; local rectangle
= ofDrawRectangle \; local x \, y \, k = 0 \, 0 \, 0 \; \; function
a.preset() \; a.mouseFbo:beginFbo() \; ofClear(0) \; ofSetColor(255)
\; if a.presetList ~= nil then \; if type(a.presetList) ~= "table"
then \; a.presetList = {a.presetList} \; end \; for k = 1 \, #a.presetList
do \; x = a.presetList[k] // a.volHeight + 1 \; y = a.presetList[k]
% a.volHeight + 1 \; rectangle(x * 1 - 1 \, y * 1 - 1 \, 1 \, 1) \;
end \; end \; a.mouseFbo:endFbo() \; a.mouseFbo:getTexture():readToPixels(a.mousePixels)
\; a.texture3d:loadVolumeData(a.mousePixels:getData() \, a.volWidth
\, a.volHeight \, 1 \, 0 \, 0 \, 0) \; end \;;
#X obj 106 136 ofelia d -k \$0-getPreset;
#A __set local a = require("\$0-gameOfLife3d") \; \; local rectangle
= ofDrawRectangle \; local x \, y \, k = 0 \, 0 \, 0 \; \; function
a.preset() \; a.mouseFbo:beginFbo() \; ofClear(0) \; ofSetColor(255)
\; if a.presetList ~= nil then \; if type(a.presetList) ~= "table"
then \; a.presetList = {a.presetList} \; end \; for k = 1 \, #a.presetList
do \; x = a.presetList[k] // a.volHeight + 1 \; y = a.presetList[k]
% a.volHeight + 1 \; rectangle(x * 1 - 1 \, y * 1 - 1 \, 1 \, 1) \;
end \; end \; a.mouseFbo:endFbo() \; a.mouseFbo:getTexture():readToPixels(a.mousePixels)
\; a.texture3d:loadVolumeData(a.mousePixels:getData() \, a.volWidth
\, a.volHeight \, 1 \, 0 \, 0 \, 0) \; end \;;
#X obj 44 196 ofelia d -c11 -k \$0-setPreset;
#A __set local a = require("\$0-gameOfLife3d") \; \; function ofelia.bang()
\; local array = ofArray("\$0-cellStates") \; \; a.mouseFbo:getTexture():readToPixels(a.mousePixels)
\; local tab = {} \; tab[1] = a.volWidth \; tab[2] = a.volHeight \;
tab[3] = a.volDepth \; for x = 0 \, 53 do \; tab[x + 4] = array:getAt(x)
\; end \; for x = 1 \, a.volWidth do \; for y = 1 \, a.volHeight do
\; if a.mousePixels:getColor(x - 1 \, y - 1).r == 255 then \; table.insert(tab
\, a.volHeight * x - a.volHeight + y - 1) \; end \; end \; end \; \;
return tab \; end \;;
#X obj 259 95 ofelia d -c11 -k \$0-setPresetCopy;
#A __set local a = require("\$0-gameOfLife3d") \; \; function ofelia.bang()
\; local array = ofArray("\$0-cellStates") \; \; a.mouseFbo:getTexture():readToPixels(a.mousePixels)
\; local tab = {} \; tab[1] = a.volWidth \; tab[2] = a.volHeight \;
tab[3] = a.volDepth \; for x = 0 \, 53 do \; tab[x + 4] = array:getAt(x)
\; end \; for x = 1 \, a.volWidth do \; for y = 1 \, a.volHeight do
\; if a.mousePixels:getColor(x - 1 \, y - 1).r == 255 then \; table.insert(tab
\, a.volHeight * x - a.volHeight + y - 1) \; end \; end \; end \; \;
return tab \; end \;;
#X obj 44 259 text define \$0-presetCopy;
#X obj 260 177 text get \$0-presetCopy;
#X obj 259 115 text set \$0-presetCopy;
#N canvas 590 300 454 551 routeList 0;
#X obj 201 395 list trim;
#X obj 201 416 outlet;
#X obj 118 31 inlet;
#X obj 201 374 list prepend presetList;
#X obj 185 259 unpack f f f;
#X obj 254 282 s \$0-volDepthPreset;
#X obj 219 305 s \$0-volHeightPreset;
#X obj 117 485 s \$0-gameOfLife3d;
#X obj 185 328 s \$0-volWidthPreset;
#X obj 145 439 s \$0-updateVolumePreset;
#X obj 145 75 t b l l;
#X obj 185 98 list split 3;
#X msg 117 462 presetState 1;
#X obj 164 351 list split 57;
#X obj 118 52 t b l;
#X obj 219 121 list split 54;
#N canvas 536 677 450 300 listDrip 0;
#X obj 173 90 until;
#X obj 200 182 list store;
#X obj 173 67 t b b l;
#X obj 173 113 f;
#X obj 200 113 + 1;
#X msg 212 90 0, f 2;
#X msg 200 159 get \$1 1;
#X obj 173 136 t f f;
#X obj 173 204 pack;
#X obj 173 44 inlet;
#X obj 173 227 outlet;
#X connect 0 0 3 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 2 1 5 0;
#X connect 2 2 1 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 10 0;
#X connect 9 0 2 0;
#X restore 219 213 pd listDrip;
#N canvas 1205 714 450 300 listDrip 0;
#X obj 173 90 until;
#X obj 200 182 list store;
#X obj 173 67 t b b l;
#X obj 173 113 f;
#X obj 200 113 + 1;
#X msg 212 90 0, f 2;
#X msg 200 159 get \$1 1;
#X obj 173 136 t f f;
#X obj 173 204 pack;
#X obj 173 44 inlet;
#X obj 173 227 outlet;
#X connect 0 0 3 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 2 1 5 0;
#X connect 2 2 1 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 10 0;
#X connect 9 0 2 0;
#X restore 256 167 pd listDrip;
#X obj 256 190 s \$0-setDCell;
#X obj 219 236 s \$0-setLCell;
#X obj 219 144 list split 27;
#X connect 0 0 1 0;
#X connect 2 0 14 0;
#X connect 3 0 0 0;
#X connect 4 0 8 0;
#X connect 4 1 6 0;
#X connect 4 2 5 0;
#X connect 10 0 9 0;
#X connect 10 1 13 0;
#X connect 10 2 11 0;
#X connect 11 0 4 0;
#X connect 11 1 15 0;
#X connect 12 0 7 0;
#X connect 13 1 3 0;
#X connect 14 0 12 0;
#X connect 14 1 10 0;
#X connect 15 0 20 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 20 0 16 0;
#X connect 20 1 17 0;
#X restore 106 94 pd routeList;
#X obj 106 115 s \$0-gameOfLife3d;
#X obj 260 219 s \$0-gameOfLife3d;
#X obj 466 271 text define -k \$0-deleteStorage;
#A set 50 50 200 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \;;
#X obj 466 225 text get \$0-deleteStorage;
#X obj 466 248 text set \$0-preset 16;
#X msg 466 202 0;
#N canvas 610 316 454 551 routeList 0;
#X obj 201 395 list trim;
#X obj 201 416 outlet;
#X obj 118 31 inlet;
#X obj 201 374 list prepend presetList;
#X obj 185 259 unpack f f f;
#X obj 254 282 s \$0-volDepthPreset;
#X obj 219 305 s \$0-volHeightPreset;
#X obj 117 485 s \$0-gameOfLife3d;
#X obj 185 328 s \$0-volWidthPreset;
#X obj 145 439 s \$0-updateVolumePreset;
#X obj 145 75 t b l l;
#X obj 185 98 list split 3;
#X msg 117 462 presetState 1;
#X obj 164 351 list split 57;
#X obj 118 52 t b l;
#X obj 219 121 list split 54;
#N canvas 79 677 450 300 listDrip 0;
#X obj 173 90 until;
#X obj 200 182 list store;
#X obj 173 67 t b b l;
#X obj 173 113 f;
#X obj 200 113 + 1;
#X msg 212 90 0, f 2;
#X msg 200 159 get \$1 1;
#X obj 173 136 t f f;
#X obj 173 204 pack;
#X obj 173 44 inlet;
#X obj 173 227 outlet;
#X connect 0 0 3 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 2 1 5 0;
#X connect 2 2 1 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 10 0;
#X connect 9 0 2 0;
#X restore 219 213 pd listDrip;
#N canvas 1205 714 450 300 listDrip 0;
#X obj 173 90 until;
#X obj 200 182 list store;
#X obj 173 67 t b b l;
#X obj 173 113 f;
#X obj 200 113 + 1;
#X msg 212 90 0, f 2;
#X msg 200 159 get \$1 1;
#X obj 173 136 t f f;
#X obj 173 204 pack;
#X obj 173 44 inlet;
#X obj 173 227 outlet;
#X connect 0 0 3 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 2 1 5 0;
#X connect 2 2 1 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 10 0;
#X connect 9 0 2 0;
#X restore 256 167 pd listDrip;
#X obj 256 190 s \$0-setDCell;
#X obj 219 236 s \$0-setLCell;
#X obj 219 144 list split 27;
#X connect 0 0 1 0;
#X connect 2 0 14 0;
#X connect 3 0 0 0;
#X connect 4 0 8 0;
#X connect 4 1 6 0;
#X connect 4 2 5 0;
#X connect 10 0 9 0;
#X connect 10 1 13 0;
#X connect 10 2 11 0;
#X connect 11 0 4 0;
#X connect 11 1 15 0;
#X connect 12 0 7 0;
#X connect 13 1 3 0;
#X connect 14 0 12 0;
#X connect 14 1 10 0;
#X connect 15 0 20 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 20 0 16 0;
#X connect 20 1 17 0;
#X restore 260 198 pd routeList;
#X connect 0 0 18 0;
#X connect 1 0 8 0;
#X connect 2 0 17 0;
#X connect 3 0 6 0;
#X connect 5 0 22 0;
#X connect 6 0 7 1;
#X connect 6 1 5 0;
#X connect 8 0 20 0;
#X connect 10 0 28 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 12 1 14 0;
#X connect 13 0 12 0;
#X connect 14 0 9 0;
#X connect 17 0 7 0;
#X connect 18 0 21 0;
#X connect 20 0 29 0;
#X connect 22 0 23 0;
#X connect 26 0 27 0;
#X connect 28 0 26 0;
#X connect 29 0 24 0;
#X restore 353 563 pd pattern;
#X obj 59 192 bng 15 250 50 1 empty \$0-updateVolumePreset updateVolume
17 7 0 10 -257985 -1 -1;
#N canvas 888 333 508 383 key 0;
#X obj 111 49 key;
#X obj 111 72 ofelia define \; local a = require("\$0-gameOfLife3d")
\; function ofelia.float(f) \; if f == 101 then \; if a.editMode ==
1 then \; a.editMode = 0 \; else \; a.editMode = 1 \; end \; end \;
if f == 32 then \; if a.cam3d:isStereo() == true then \; a.cam3d:disableStereo()
\; a.cam3d:eyeSeparation(0) \; else \; a.cam3d:enableStereo() \; end
\; end \; end \;;
#X connect 0 0 1 0;
#X restore 353 586 pd key;
#X obj 48 137 lCell 0 \$0;
#X obj 48 153 dCell 0 \$0;
#X obj 64 153 dCell 1 \$0;
#X obj 64 137 lCell 1 \$0;
#X obj 80 137 lCell 2 \$0;
#X obj 96 137 lCell 3 \$0;
#X obj 112 137 lCell 4 \$0;
#X obj 128 137 lCell 5 \$0;
#X obj 144 137 lCell 6 \$0;
#X obj 160 137 lCell 7 \$0;
#X obj 176 137 lCell 8 \$0;
#X obj 192 137 lCell 9 \$0;
#X obj 208 137 lCell 10 \$0;
#X obj 224 137 lCell 11 \$0;
#X obj 240 137 lCell 12 \$0;
#X obj 256 137 lCell 13 \$0;
#X obj 272 137 lCell 14 \$0;
#X obj 288 137 lCell 15 \$0;
#X obj 304 137 lCell 16 \$0;
#X obj 320 137 lCell 17 \$0;
#X obj 336 137 lCell 18 \$0;
#X obj 352 137 lCell 19 \$0;
#X obj 368 137 lCell 20 \$0;
#X obj 384 137 lCell 21 \$0;
#X obj 400 137 lCell 22 \$0;
#X obj 416 137 lCell 23 \$0;
#X obj 432 137 lCell 24 \$0;
#X obj 448 137 lCell 25 \$0;
#X obj 464 137 lCell 26 \$0;
#X obj 80 153 dCell 2 \$0;
#X obj 96 153 dCell 3 \$0;
#X obj 112 153 dCell 4 \$0;
#X obj 128 153 dCell 5 \$0;
#X obj 144 153 dCell 6 \$0;
#X obj 160 153 dCell 7 \$0;
#X obj 176 153 dCell 8 \$0;
#X obj 192 153 dCell 9 \$0;
#X obj 208 153 dCell 10 \$0;
#X obj 224 153 dCell 11 \$0;
#X obj 240 153 dCell 12 \$0;
#X obj 256 153 dCell 13 \$0;
#X obj 272 153 dCell 14 \$0;
#X obj 288 153 dCell 15 \$0;
#X obj 304 153 dCell 16 \$0;
#X obj 336 153 dCell 18 \$0;
#X obj 352 153 dCell 19 \$0;
#X obj 368 153 dCell 20 \$0;
#X obj 384 153 dCell 21 \$0;
#X obj 400 153 dCell 22 \$0;
#X obj 416 153 dCell 23 \$0;
#X obj 432 153 dCell 24 \$0;
#X obj 448 153 dCell 25 \$0;
#X obj 464 153 dCell 26 \$0;
#X msg 8 375 volDepth \$4 \, volHeight \$3 \, volWidth \$2 \, updateVolume
1;
#X obj 8 421 array d -k \$0-cellStates 54;
#A 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 320 153 dCell 17 \$0;
#X obj 68 471 nbx 5 14 -1e+037 1e+037 0 1 empty \$0-eyeSeperation eyeSeperation
0 -8 0 10 -257985 -1 -1 0.5 256;
#X obj 199 471 nbx 5 14 -1e+037 1e+037 0 1 empty \$0-focalLength focalLength
0 -8 0 10 -257985 -1 -1 50 256;
#X msg 68 490 setEyeSeparation \$1;
#X msg 199 490 setFocalLength \$1;
#X obj 199 513 s \$0-gameOfLife3d;
#X obj 68 513 s \$0-gameOfLife3d;
#X obj 417 238 nbx 5 14 -1e+037 1e+037 0 1 \$0-focalLength empty focalLength
0 -8 0 10 -257985 -1 -1 50 256;
#X obj 322 238 nbx 5 14 -1e+037 1e+037 0 1 \$0-eyeSeperation empty
eyeSeperation 0 -8 0 10 -257985 -1 -1 0.5 256;
#X obj 49 85 bng 15 250 50 0 \$0-Save_Pattern empty Save 17 7 0 10
-257985 -1 -1;
#X obj 49 33 bng 15 250 50 0 \$0-Copy_Pattern empty Copy 17 7 0 10
-257985 -1 -1;
#X obj 49 59 bng 15 250 50 0 \$0-Paste_Pattern empty Paste 17 7 0 10
-257985 -1 -1;
#X connect 6 0 20 0;
#X connect 7 0 6 0;
#X connect 8 0 22 0;
#X connect 9 0 21 0;
#X connect 10 0 8 0;
#X connect 11 0 9 0;
#X connect 12 0 16 0;
#X connect 13 0 17 1;
#X connect 14 0 17 2;
#X connect 15 0 17 3;
#X connect 16 0 24 0;
#X connect 17 0 82 0;
#X connect 27 0 17 0;
#X connect 82 0 23 0;
#X connect 85 0 87 0;
#X connect 86 0 88 0;
#X connect 87 0 90 0;
#X connect 88 0 89 0;
#X coords 0 0 510 270 510 270 1 10 10;
#X restore 21 16 pd \$0-gameofLife;
